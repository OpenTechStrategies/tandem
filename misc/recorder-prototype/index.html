<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Recording Test</title>
    <script>
      onload = () => {
        const webview = document.getElementById('foo');
        webview.addEventListener('ipc-message', (event) => {
          console.log(event.channel);
        });
        webview.addEventListener('did-finish-load', (event) => {
          webview.executeJavaScript('attachHooks()');
        });

        const address = document.getElementById('address');
        const go = document.getElementById('go');
        go.addEventListener('click', (event) => {
          const adr = address.value;
          webview.loadURL(adr);
        });
      }
    </script>
  </head>
  <body>
    <h1>Recording Test</h1>
    <div>
      <input id="address" type="text" value="https://www.github.com" />
      <input id="go" type="submit" value="Go" />
    </div>
    <webview
      id="foo"
      src="https://www.github.com"
      style="display:inline-flex; width:640px; height:800px; margin-top:20px; border: 1px solid black;"
      preload="./guest.js"
    ></webview>
  </body>
</html>
